<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support Guidelines Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .quiz-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
            transition: all 0.3s ease;
        }

        .quiz-header {
            margin-bottom: 30px;
        }

        .quiz-title {
            font-size: 2.5em;
            color: #333;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .question-counter {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.4em;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .answer-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .answer-btn {
            padding: 15px 40px;
            font-size: 1.2em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .yes-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .no-btn {
            background: linear-gradient(135deg, #f44336, #da190b);
            color: white;
        }

        .answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .answer-btn:active {
            transform: translateY(0);
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }

        .feedback.show {
            opacity: 1;
            transform: translateY(0);
        }

        .feedback.correct {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
            border: 2px solid #4CAF50;
        }

        .feedback.incorrect {
            background: linear-gradient(135deg, #f8d7da, #f1b0b7);
            color: #721c24;
            border: 2px solid #f44336;
        }

        .response-section {
            margin-top: 15px;
            padding: 12px;
            background: #f8f9fa;
            border-left: 4px solid #6c757d;
            border-radius: 0 8px 8px 0;
            text-align: left;
        }

        .response-title {
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .response-text {
            font-size: 0.85em;
            color: #888888;
            line-height: 1.5;
            font-weight: normal;
            font-style: italic;
            text-align: left;
        }

        .status-light {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 auto 15px;
            transition: all 0.3s ease;
        }

        .status-light.green {
            background: radial-gradient(circle, #4CAF50, #45a049);
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.6);
        }

        .status-light.red {
            background: radial-gradient(circle, #f44336, #da190b);
            box-shadow: 0 0 20px rgba(244, 67, 54, 0.6);
        }

        .next-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .results {
            display: none;
        }

        .results.show {
            display: block;
        }

        .score-display {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .restart-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        @media (max-width: 480px) {
            .quiz-container {
                padding: 20px;
            }
            
            .answer-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .answer-btn {
                padding: 12px 30px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1 class="quiz-title">Support Guidelines Quiz</h1>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="question-counter" id="questionCounter">Question 1 of 25</div>
        </div>

        <div class="quiz-content" id="quizContent">
            <div class="question-text" id="questionText">Loading question...</div>
            <div class="answer-buttons">
                <button class="answer-btn yes-btn" onclick="answerQuestion(true)">Yes</button>
                <button class="answer-btn no-btn" onclick="answerQuestion(false)">No</button>
            </div>
            <div class="feedback" id="feedback">
                <div class="status-light" id="statusLight"></div>
                <div id="feedbackText"></div>
                <button class="next-btn" id="nextBtn" onclick="nextQuestion()" style="display: none;">Next Question</button>
            </div>
        </div>

        <div class="results" id="results">
            <h2>Quiz Complete!</h2>
            <div class="score-display" id="scoreDisplay">0/25</div>
            <p id="scoreMessage">Great job!</p>
            <button class="restart-btn" onclick="restartQuiz()">Take Quiz Again</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "Can we approve FTDs for the clients?",
                answer: false,
                explanation: "Let me send you a simple instruction on how to approve FTDs. You can easily do it yourself. We do not process such requests, as this is part of client operations."
            },
            {
                question: "Can we fire (create) FTDs for the clients?",
                answer: false,
                explanation: "Let me send you a simple instruction on how to do this. You can easily do it yourself. We do not process such requests, as this is part of client operations."
            },
            {
                question: "Can we fire an FTD for a rejected lead?",
                answer: false,
                explanation: "Currently, our system does not support changing the lead state directly (only in case with rejected lead)"
            },
            {
                question: "Can we make injections?",
                answer: false,
                explanation: "Let me send you a simple instruction on how to do this. You can easily do it yourself. We do not process such requests, as this is part of client operations. But we are here to provide guidance and any help needed."
            },
            {
                question: "Do we set up the rotation for the client?",
                answer: false,
                explanation: "Let me send you a simple instruction on how to do this. We are not performing any changes in rotation as this operation has a significant impact on the business and thus should only be carried out by team members who are directly involved in business operations."
            },
            {
                question: "Do we change payout for conversions using Deal Updater?",
                answer: false,
                explanation: "Let me send you a simple instruction on how to do this. We do not process such requests, as this is part of client operations but gladly assist and guide where needed"
            },
            {
                question: "Do we setup Payout & Revenues Trees for our clients?",
                answer: false,
                explanation: "Let me send you a simple instruction on how to do this. We do not process such requests, as this is part of client operations but gladly assist and guide where needed"
            },
            {
                question: "Do we rip/change funnels?",
                answer: true,
                explanation: "Please contact our 3rd party provider Clickfunnel who is taking care of funnels."
            },
            {
                question: "Do we add funnels?",
                answer: true,
                explanation: ""
            },
            {
                question: "Do we change funnel domains?",
                answer: true,
                explanation: "Change domain and notify client about the changes. We have guide that describes how to change funnel domain step by step"
            },
            {
                question: "Do we update leads status which are more than 30 days?",
                answer: false,
                explanation: "The system status pulling is configured for a period of up to one month to ensure stable operation and not overload your and brands CRM systems. If you need to update sale statuses for leads with longer time we will prepare instructions for you how to proceed."
            },
            {
                question: "Do we create new users for clients?",
                answer: false,
                explanation: "Let me send you a simple instruction on how to do this."
            },
            {
                question: "Do we change the domain after working hours from 10-19 GMT+3 and the weekend?",
                answer: true,
                explanation: ""
            },
            {
                question: "Do we reply to the clients in the Client's onboarding chats?",
                answer: false,
                explanation: "We do not until 18:00 GMT+3. After this time we do reply, as the onboarding team works until 18:00 GMT+3. Exception: if we can see that there is no reply within 20 min, support should reply"
            },
            {
                question: "Should we create affiliate as a user if client has only LD CRM and wants to provide access for affiliate?",
                answer: false,
                explanation: "We do not provide such workaround and even do not tell that we have it. Exception: ONLY FOR GT and 1Lead 1FTD we continue to do that"
            },
            {
                question: "Do we buy and create landing pages?",
                answer: false,
                explanation: "With the only exception for Mediapro for whom we bought and setup landing page long time ago"
            },
            {
                question: "Should we reply to Fuckads?",
                answer: false,
                explanation: "Only Maxim Kochubey for now is responsible for answering to Fuckads"
            },
            {
                question: "Should we read every new article in notion?",
                answer: true,
                explanation: ""
            },
            {
                question: "Do we share any information or screenshots about our CRM inside affiliate or brand chat?",
                answer: false,
                explanation: ""
            },
            {
                question: "Should we provide ETA for next answer?",
                answer: true,
                explanation: "Always, if we are sure that the request takes more than 5 minutes to handle"
            },
            {
                question: "Can we register an affiliate for the clients?",
                answer: false,
                explanation: "Only for the Premium Clients if they ask us to do it. Let me send you a simple instruction on how to do this."
            },
            {
                question: "Should we create ETA reminders for delayed answers or updates?",
                answer: true,
                explanation: ""
            },
            {
                question: "Do we perform any actions in the Clients' CRMs as per request from anyone outside of the Clients' companies?",
                answer: false,
                explanation: "We kindly ask anyone outside of the Client's company to contact our Client first, and then they can make a request to us in support"
            },
            {
                question: "Do we perform logins into our Clients' CRMs without their request?",
                answer: false,
                explanation: "We only log in and perform any changes in the CRMs as per request by our Clients"
            },
            {
                question: "Can we share information about Risk Management?",
                answer: false,
                explanation: "NO - about Lead risk Management. YES - about FTD risk management. For lead risk management: At the moment, we do not have this functionality"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let shuffledQuestions = [];
        let userAnswered = false;
        let showingExceptionQuestion = false;
        let firstAnswerCorrect = false;
        let maxPossibleScore = 0;

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function initQuiz() {
            shuffledQuestions = shuffleArray(questions);
            currentQuestionIndex = 0;
            score = 0;
            userAnswered = false;
            showingExceptionQuestion = false;
            firstAnswerCorrect = false;
            
            // Calculate max possible score (2 points for questions with exceptions, 1 for those without)
            maxPossibleScore = 0;
            shuffledQuestions.forEach(q => {
                maxPossibleScore += q.hasExceptions ? 2 : 1;
            });
            
            document.getElementById('quizContent').style.display = 'block';
            document.getElementById('results').classList.remove('show');
            showQuestion();
        }

        function showQuestion() {
            const question = shuffledQuestions[currentQuestionIndex];
            
            if (!showingExceptionQuestion) {
                document.getElementById('questionText').textContent = question.question;
                document.getElementById('questionCounter').textContent = `Question ${currentQuestionIndex + 1} of ${shuffledQuestions.length}`;
            } else {
                document.getElementById('questionText').textContent = "Are there exceptions?";
            }
            
            const progress = ((currentQuestionIndex) / shuffledQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            const feedback = document.getElementById('feedback');
            feedback.classList.remove('show', 'correct', 'incorrect');
            const statusLight = document.getElementById('statusLight');
            statusLight.classList.remove('green', 'red');
            document.getElementById('nextBtn').style.display = 'none';
            
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach(btn => {
                btn.disabled = false;
                btn.style.opacity = '1';
            });
            
            userAnswered = false;
        }

        function answerQuestion(userAnswer) {
            if (userAnswered) return;
            
            userAnswered = true;
            const question = shuffledQuestions[currentQuestionIndex];
            
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.6';
            });
            
            if (!showingExceptionQuestion) {
                // First question (main answer)
                const isCorrect = userAnswer === question.answer;
                firstAnswerCorrect = isCorrect;
                
                if (question.hasExceptions) {
                    // Show exception question
                    showingExceptionQuestion = true;
                    setTimeout(() => {
                        showQuestion();
                    }, 1000);
                    return;
                } else {
                    // No exceptions, show final result
                    if (isCorrect) {
                        score += 1;
                    }
                    showFeedback(isCorrect, question, 1);
                }
            } else {
                // Exception question
                const exceptionAnswerCorrect = userAnswer === question.hasExceptions;
                let pointsEarned = 0;
                
                if (firstAnswerCorrect && exceptionAnswerCorrect) {
                    pointsEarned = 2;
                } else if (firstAnswerCorrect || exceptionAnswerCorrect) {
                    pointsEarned = 1;
                } else {
                    pointsEarned = 0;
                }
                
                score += pointsEarned;
                showFeedback(pointsEarned > 0, question, pointsEarned);
                showingExceptionQuestion = false;
            }
        }
        
        function showFeedback(isCorrect, question, pointsEarned) {
            const feedback = document.getElementById('feedback');
            const statusLight = document.getElementById('statusLight');
            const feedbackText = document.getElementById('feedbackText');
            const nextBtn = document.getElementById('nextBtn');
            
            if (isCorrect) {
                feedback.classList.add('correct');
                statusLight.classList.add('green');
            } else {
                feedback.classList.add('incorrect');
                statusLight.classList.add('red');
            }
            
            let feedbackHtml = '';
            if (question.hasExceptions) {
                if (pointsEarned === 2) {
                    feedbackHtml = '<strong>Perfect!</strong><br>You got both answers correct! (+2 points)';
                } else if (pointsEarned === 1) {
                    feedbackHtml = '<strong>Partial Credit!</strong><br>You got one answer correct! (+1 point)';
                } else {
                    feedbackHtml = '<strong>Incorrect!</strong><br>Both answers were wrong (0 points)';
                }
                feedbackHtml += '<br>Main answer: ' + (question.answer ? 'Yes' : 'No') + ' | Exceptions: ' + (question.hasExceptions ? 'Yes' : 'No');
            } else {
                feedbackHtml = '<strong>' + (isCorrect ? 'Correct!' : 'Incorrect!') + '</strong><br>The answer is: ' + (question.answer ? 'Yes' : 'No');
                if (isCorrect) {
                    feedbackHtml += ' (+1 point)';
                } else {
                    feedbackHtml += ' (0 points)';
                }
            }
            
            if (question.explanation) {
                feedbackHtml += '<div class="response-section"><div class="response-title">What we respond:</div><div class="response-text">' + question.explanation + '</div></div>';
            }
            
            feedbackText.innerHTML = feedbackHtml;
            feedback.classList.add('show');
            
            if (currentQuestionIndex < shuffledQuestions.length - 1) {
                nextBtn.textContent = 'Next Question';
                nextBtn.style.display = 'inline-block';
            } else {
                nextBtn.textContent = 'View Results';
                nextBtn.style.display = 'inline-block';
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < shuffledQuestions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('quizContent').style.display = 'none';
            const results = document.getElementById('results');
            results.classList.add('show');
            
            document.getElementById('progressFill').style.width = '100%';
            
            document.getElementById('scoreDisplay').textContent = score + '/' + maxPossibleScore;
            
            const percentage = (score / maxPossibleScore) * 100;
            let message = '';
            
            if (percentage >= 90) {
                message = 'Outstanding! You are a quiz master! ðŸ†';
            } else if (percentage >= 80) {
                message = 'Excellent work! Great knowledge! ðŸŒŸ';
            } else if (percentage >= 70) {
                message = 'Good job! Keep learning! ðŸ‘';
            } else if (percentage >= 60) {
                message = 'Not bad! Room for improvement! ðŸ“š';
            } else {
                message = 'Keep studying and try again! ðŸ’ª';
            }
            
            document.getElementById('scoreMessage').textContent = message;
        }

        function restartQuiz() {
            initQuiz();
        }

        window.onload = function() {
            initQuiz();
        };
    </script>
</body>
</html>
